{% load static %}
<!DOCTYPE HTML>
<html>
<head>
<script type="text/javascript">
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	title:{
		text: "Statewise Commodity prices"
	},
	axisY: {
		title: "Prices"
	},
	legend: {
		cursor:"pointer",
		itemclick : toggleDataSeries
	},
	toolTip: {
		shared: true,
		content: toolTipFormatter
	},
	data: [{
		type: "bar",
		showInLegend: true,
		name: "Cotton",
		color: "#e63946",
		dataPoints: [

{y: 4569.0, label: "Andhra Pradesh"},
{y: 4776.48, label: "Gujarat"},
{y: 5296.0, label: "Haryana"},
{y: 4357.0, label: "Karnataka"},
{y: 4558.333333333333, label: "Madhya Pradesh"},
{y: 4742.733333333334, label: "Maharashtra"},
{y: 5070.0, label: "Punjab"},
{y: 5115.666666666667, label: "Rajasthan"},
{y: 4492.857142857143, label: "Tamil Nadu"},
{y: 4462.545454545455, label: "Telangana"},
		]
	},
	{
		type: "bar",
		showInLegend: true,
		name: "Rice",
		color: "#00c2c9",
		dataPoints: [
{y: 1609.0, label: "Andhra Pradesh"},
{y: 2916.6666666666665, label: "Assam"},
{y: 1548.0, label: "Chattisgarh"},
{y: 1355.0, label: "Gujarat"},
{y: 2958.4615384615386, label: "Jharkhand"},
{y: 3064.1428571428573, label: "Karnataka"},
{y: 2795.0, label: "Maharashtra"},
{y: 2062.5, label: "Orissa"},
{y: 1610.0, label: "Tamil Nadu"},
{y: 1593.5333333333333, label: "Telangana"},
{y: 2071.7391304347825, label: "Uttar Pradesh"},
{y: 2358.6666666666665, label: "West Bengal"},
		]
	},
	{
		type: "bar",
		showInLegend: true,
		name: "Potato",
		color: "#457b9d",
		dataPoints: [

{y: 900.0, label: "Andhra Pradesh"},
{y: 880.0, label: "Assam"},
{y: 575.0, label: "Chattisgarh"},
{y: 462.5, label: "Gujarat"},
{y: 322.4, label: "Haryana"},
{y: 450.0, label: "Jammu and Kashmir"},
{y: 990.7142857142857, label: "Jharkhand"},
{y: 2242.8571428571427, label: "Kerala"},
{y: 487.5, label: "Madhya Pradesh"},
{y: 890.625, label: "Maharashtra"},
{y: 611.4285714285714, label: "Orissa"},
{y: 302.2, label: "Punjab"},
{y: 703.0, label: "Telangana"},
{y: 429.7674418604651, label: "Uttar Pradesh"},
{y: 633.9473684210526, label: "West Bengal"},
		]
	},
	{
		type: "bar",
		showInLegend: true,
		name: "Wheat",
		color: "#1d3557",
		dataPoints: [

{y: 1656.8333333333333, label: "Gujarat"},
{y: 1943.0, label: "Jharkhand"},
{y: 2421.0, label: "Karnataka"},
{y: 1564.9285714285713, label: "Madhya Pradesh"},
{y: 1797.027027027027, label: "Maharashtra"},
{y: 1602.111111111111, label: "Rajasthan"},
{y: 1591.2380952380952, label: "Uttar Pradesh"},
{y: 1642.5, label: "West Bengal"},
		]
	},
	{
		type: "bar",
		showInLegend: true,
		name: "Maize",
		color: "#000000",
		dataPoints: [

{y: 1286.0, label: "Andhra Pradesh"},
{y: 1100.0, label: "Chattisgarh"},
{y: 1349.375, label: "Gujarat"},
{y: 1450.0, label: "Jharkhand"},
{y: 1141.8, label: "Karnataka"},
{y: 1090.3333333333333, label: "Madhya Pradesh"},
{y: 1161.55, label: "Maharashtra"},
{y: 1311.0, label: "Orissa"},
{y: 1462.0, label: "Tamil Nadu"},
{y: 1350.4444444444443, label: "Telangana"},
{y: 1213.3333333333333, label: "Uttar Pradesh"},
		]
	}


]

});
chart.render();

function toolTipFormatter(e) {
	var str = "";
	var total = 0 ;
	var str3;
	var str2 ;
	for (var i = 0; i < e.entries.length; i++){
		var str1 = "<span style= \"color:"+e.entries[i].dataSeries.color + "\">" + e.entries[i].dataSeries.name + "</span>: <strong>"+  e.entries[i].dataPoint.y + "</strong> <br/>" ;
		total = e.entries[i].dataPoint.y + total;
		str = str.concat(str1);
	}
	str2 = "<strong>" + e.entries[0].dataPoint.label + "</strong> <br/>";
	str3 = "<span style = \"color:Tomato\">Total: </span><strong>" + total + "</strong><br/>";
	return (str2.concat(str)).concat(str3);
}

function toggleDataSeries(e) {
	if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
		e.dataSeries.visible = false;
	}
	else {
		e.dataSeries.visible = true;
	}
	chart.render();
}

}
</script>
</head>
<body>
<div id="chartContainer" style="height: 500px; width: 100%;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</body>
</html>
